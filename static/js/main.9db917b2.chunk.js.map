{"version":3,"sources":["img/nn.jpg","img/kazan.jpg","img/nov.jpg","img/peterburg.jpg","img/msk.gif","containers/Home.js","utils.js","containers/Profile.js","containers/Transaction.js","containers/Top.js","containers/About.js","containers/Stories.js","App.js","store/navigator.js","api.js","store/user.js","store/transactions.js","store/top.js","store/index.js","store/cloud.js","index.js"],"names":["module","exports","__webpack_require__","p","connect","state","user","vk","transactions","list","topPlace","top","findIndex","x","id","cloud","_ref3","goForward","navigator","_ref3$transactions","select","reset","_ref3$user","go","transactionSelect","resetTransactions","loadUser","load","openProfile","cloudUpdate","changeParam","_ref","_useState","useState","_useState2","Object","slicedToArray","loading","setLoading","_useState3","_useState4","discussionLinkTooltip","setDiscussionLinkTooltip","refresh","_ref2","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","stop","apply","this","arguments","useEffect","loaded","discussion_tooltip","react_default","createElement","vkui","left","text","isShown","onClose","param","value","offsetX","offsetY","onClick","link","document","href","target","dispatchEvent","window","MouseEvent","view","bubbles","cancelable","fireEvent","onRefresh","isFetching","title","expandable","_this","setState","activePanel","goBack","_ref2$transactions","_ref2$user","back","PanelHeaderBack_default","style","display","alignItems","justifyContent","padding","textAlign","src","require","alt","width","boxShadow","borderRadius","dist_vkappui","type","active","history","popout","userLoad","isWebView","onSwipeBack","containers_Home","containers_Top","containers_Profile","containers_Transaction","containers_About","containers_Stories","reducers","payload","concat","toConsumableArray","length","slice","setPopout","objectSpread","effects","dispatch","panel","send","endpoint","getTransactions","fetch","then","result","json","reverse","getProfile","getTransactionById","selected","update","loadProfile","_loadProfile","api","sent","carma","_x","_x2","_openProfile","_callee2","_context2","_x3","_load","selectSingleTransaction","_selectSingleTransaction","models","initialize","_initialize","app_id","old_connect","subscribe","action","detail","access_token","data","method","params","v","loadByKeys","response","scope","_changeParam","_loadByKeys","_callee3","keys","_context3","join","reduce","key","catch","_x4","_x5","store","init","string","location","hash","replace","split","curr","_curr$split","_curr$split2","decodeURIComponent","ReactDOM","render","es","src_App","getElementById"],"mappings":"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","file":"static/js/main.9db917b2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/nn.e3d7401a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/kazan.23099a08.jpg\";","module.exports = __webpack_public_path__ + \"static/media/nov.4475a012.jpg\";","module.exports = __webpack_public_path__ + \"static/media/peterburg.0b7346ca.jpg\";","module.exports = __webpack_public_path__ + \"static/media/msk.f79645b8.gif\";","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Panel, Cell, Group, Avatar, CellButton, PanelHeader, List, Spinner, PullToRefresh, Button, HeaderButton, Tooltip, Div, FixedLayout, Tabs, TabsItem } from \"@vkontakte/vkui\";\nimport Counter from '@vkontakte/vkui/dist/components/Counter/Counter';\n\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\nimport Icon16Gift from \"@vkontakte/icons/dist/16/gift\";\nimport Icon24Discussions from '@vkontakte/icons/dist/24/discussions';\nimport Icon24Poll from \"@vkontakte/icons/dist/24/poll\";\nimport Icon24Info from '@vkontakte/icons/dist/24/info';\nimport Icon24List from '@vkontakte/icons/dist/24/list';\nimport Icon24Unpin from '@vkontakte/icons/dist/24/unpin';\nimport Icon24Settings from '@vkontakte/icons/dist/24/settings';\nimport Icon24Newsfeed from '@vkontakte/icons/dist/24/newsfeed';\nimport Icon24Filter from '@vkontakte/icons/dist/24/filter';\nimport '@happysanta/vk-app-ui/dist/vkappui.css'\nimport { Notify} from \"@happysanta/vk-app-ui\"\nimport { fireEvent } from \"../utils\";\nimport Icon24LikeOutline from '@vkontakte/icons/dist/24/like_outline';\nimport Icon24ThumbUp from '@vkontakte/icons/dist/24/thumb_up';\nimport Icon24ThumbDown from '@vkontakte/icons/dist/24/thumb_down';\nimport Icon24Add from '@vkontakte/icons/dist/24/add';\n\nconst Home = ({ id, user, go, transactions, cloud, transactionSelect, resetTransactions, loadUser, topPlace, openProfile, cloudUpdate }) => {\n\tconst [loading, setLoading] = useState(false);\n\tconst [discussionLinkTooltip, setDiscussionLinkTooltip] = useState(false);\n\n\tconst refresh = async () => {\n\t\tsetLoading(true);\n\t\tresetTransactions();\n\t\tawait loadUser();\n\t\tsetLoading(false);\n\t};\n\n\tuseEffect(() => {\n\t\tsetDiscussionLinkTooltip(cloud.loaded ? !cloud.discussion_tooltip : false);\n\t}, [cloud.discussion_tooltip, cloud.loaded]);\n\n\treturn (\n\t\t<Panel id={id}>\n\t\t\t<PanelHeader\n\t\t\t\tleft={\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\ttext=\"Чтобы открыть беседу, нажмите кнопку. \"\n\t\t\t\t\t\tisShown={discussionLinkTooltip}\n\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\tsetDiscussionLinkTooltip(false);\n\t\t\t\t\t\t\tcloudUpdate({ param: \"discussion_tooltip\", value: true});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\toffsetX={5}\n\t\t\t\t\t\toffsetY={5}\n\t\t\t\t\t>\n\t\t\t\t\t\t<HeaderButton onClick={() => fireEvent(\"https://vk.me/join/AJQ1d/NhfhBeG2emVD3fKQsj\")}>\n\t\t\t\t\t\t</HeaderButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\tСхема Метро\n\t\t\t</PanelHeader>\n\t\t\t<PullToRefresh\n\t\t\t\tonRefresh={refresh}\n\t\t\t\tisFetching={loading}\n\t\t\t>\n\t\t\t\t{user &&\n\t\t\t\t<Group title=\"\">\n\t\t\t\t</Group>}\n\t\t\t\t<Group>\n             <Div>\n        Перед использованием сервиса, пожалуйста, выберите город. \n\t\t\t\t<br>\n\t\t\t\t</br>\n\t\t\t\t<br>\n\t\t\t\t</br>\n\t\t\t\tЕсли не выбрать город, Вы не сможете пользоваться сервисом.  \n            </Div>\n              </Group>\n\t\t\t\t\n\t\t\t\t<Group title=\"Россия\">\n              <List>\n                <Cell expandable onClick={() => go(\"stories\")}>Москва</Cell>\n                <Cell expandable onClick={() => go(\"about\")}>Санкт-Петербург</Cell>\n\t\t\t\t<Cell expandable onClick={() => go(\"transaction\")}>Казань</Cell>\n\t\t\t\t<Cell expandable onClick={() => go(\"top\")}>Новосибирск</Cell>\n\t\t\t\t<Cell expandable onClick={() => go(\"profile\")}>Нижний Новгород</Cell>\n              </List>\n            </Group>\n\t<Group>\n     <Div>\n   <CellButton onClick={() => this.setState({ activePanel: 'light' })}>Альтернативная тема</CellButton>\n     </Div>\n   </Group>\n\t\t</PullToRefresh>\n\t\t</Panel>\n\t);\n};\n\nconst mapProps = (state) => ({\n\tuser: state.user.vk,\n\ttransactions: state.transactions.list,\n\ttopPlace: state.top.findIndex(x => x.id === state.user.vk.id) + 1,\n\tcloud: state.cloud\n});\n\nconst mapDispatch = ({ navigator: { goForward }, transactions: { select, reset }, user: { load, openProfile }, cloud: { changeParam } }) => ({\n\tgo: goForward,\n\ttransactionSelect: select,\n\tresetTransactions: reset,\n\tloadUser: load,\n\topenProfile,\n\tcloudUpdate: changeParam\n});\n\nexport default connect(mapProps, mapDispatch)(Home);\n","export const getObjectUrlString = (string) => {\n    let search = string;\n    return search === \"\" ? null : search.split(\"&\").reduce((prev, curr) => {\n        const [key, value] = curr.split(\"=\");\n        prev[decodeURIComponent(key)] = decodeURIComponent(value);\n        return prev;\n    }, {});\n};\n\nexport const fireEvent = (link) => {\n    const a = document.createElement('a');\n    a.href = link;\n    a.target = '_blank';\n\n    a.dispatchEvent(new window.MouseEvent('click', {\n        view: window,\n        bubbles: true,\n        cancelable: true\n    }));\n};","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Panel, PanelHeader, Group, List, Avatar, Cell, Button, Div, FormStatus, Header, FixedLayou, TabsItem, Tabs, FixedLayout  } from \"@vkontakte/vkui\";\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack';\nimport Icon24Message from '@vkontakte/icons/dist/24/message';\nimport { fireEvent } from \"../utils\";\nimport Icon24List from '@vkontakte/icons/dist/24/list';\nimport nn from '../img/nn.jpg';\nimport '@happysanta/vk-app-ui/dist/vkappui.css'\nimport { Notify, strong } from \"@happysanta/vk-app-ui\"\nconst Profile = ({ id, back, top, openProfile, go }) => {\n    return (\n        <Panel id={id}>\n            <PanelHeader\n                left={<PanelHeaderBack onClick={back} />}\n            >\n                 Нижний Новгород\n            </PanelHeader>\n            <Group style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                padding: \"height: 100vw, weight: 110vw\",\n                textAlign: \"center\"\n            }}>\n                <Div>\n                    <img src={require(\"../img/nn.jpg\")} alt=\"\" style={{\n                        width: \"100%\",\n                        boxShadow: \"0 0 25px\",\n                        borderRadius: 35\n                    }}/>\n                </Div>\n            </Group>\n            <div>\n    <Notify type=\"info\">\n        <strong>Дополнительно</strong>\n        <br/>\n        <br/>\n        Открытие: 05:15\n        <br/>\n        <br/>\n        Закрытие: 00:15\n        <br/>\n        <br/>\n        Цена билета: 28₽\n    </Notify>\n    </div>\n        </Panel>\n    );\n};\nconst mapProps = (state) => ({\n    top: state.top\n}); \n \nconst mapDispatch = ({ navigator: { goBack },  navigator: { goForward }, transactions: { select, reset }, user: { load, openProfile }, cloud: { changeParam } }) => ({\n  go: goForward,\n  transactionSelect: select,\n  resetTransactions: reset,\n  loadUser: load,\n    openProfile,\n    back: goBack, \n  cloudUpdate: changeParam\n});\n\nexport default connect(mapProps, mapDispatch)(Profile);","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Panel, PanelHeader, Group, List, Avatar, Cell, Button, Div, FormStatus, Header, FixedLayou, TabsItem, Tabs, FixedLayout  } from \"@vkontakte/vkui\";\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack';\nimport Icon24Message from '@vkontakte/icons/dist/24/message';\nimport { fireEvent } from \"../utils\";\nimport Icon24List from '@vkontakte/icons/dist/24/list';\nimport piter from '../img/kazan.jpg';\nimport '@happysanta/vk-app-ui/dist/vkappui.css'\nimport { Notify, strong } from \"@happysanta/vk-app-ui\"\nimport PanelSpinner from '@vkontakte/vkui/dist/components/PanelSpinner/PanelSpinner';\nconst Transaction = ({ id, back, top, openProfile, go }) => {\n    return (\n        <Panel id={id}>\n            <PanelHeader\n                left={<PanelHeaderBack onClick={back} />}\n            >\n                  Казань\n            </PanelHeader>\n            <Group style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                padding: \"height: 100vw, weight: 110vw\",\n                textAlign: \"center\"\n            }}>\n                <Div>\n                    <img src={require(\"../img/kazan.jpg\")} alt=\"\" style={{\n                        width: \"100%\",\n                        boxShadow: \"0 0 25px\",\n                        borderRadius: 35\n                    }}/>\n                </Div>\n            </Group>\n            <div>\n    <Notify type=\"info\">\n        <strong>Дополнительно</strong>\n        <br/>\n        <br/>\n        Открытие: 06:00\n        <br/>\n        <br/>\n        Закрытие: 00:00\n        <br/>\n        <br/>\n        Цена билета: 25₽\n    </Notify>\n    </div>\n        </Panel>\n    );\n};\nconst mapProps = (state) => ({\n    top: state.top\n}); \n \nconst mapDispatch = ({ navigator: { goBack },  navigator: { goForward }, transactions: { select, reset }, user: { load, openProfile }, cloud: { changeParam } }) => ({\n\tgo: goForward,\n\ttransactionSelect: select,\n\tresetTransactions: reset,\n\tloadUser: load,\n    openProfile,\n    back: goBack, \n\tcloudUpdate: changeParam\n});\n\nexport default connect(mapProps, mapDispatch)(Transaction);","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Panel, PanelHeader, Group, List, Avatar, Cell, Button, Div, FormStatus, Header, FixedLayou, TabsItem, Tabs, FixedLayout  } from \"@vkontakte/vkui\";\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack';\nimport Icon24Message from '@vkontakte/icons/dist/24/message';\nimport { fireEvent } from \"../utils\";\nimport Icon24List from '@vkontakte/icons/dist/24/list';\nimport piter from '../img/nov.jpg';\nimport '@happysanta/vk-app-ui/dist/vkappui.css'\nimport { Notify, strong } from \"@happysanta/vk-app-ui\"\nconst Top = ({ id, back, top, openProfile, go }) => {\n    return (\n        <Panel id={id}>\n            <PanelHeader\n                left={<PanelHeaderBack onClick={back} />}\n            >\n                 Новосибирск\n            </PanelHeader>\n            <Group style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                padding: \"height: 100vw, weight: 110vw\",\n                textAlign: \"center\"\n            }}>\n                <Div>\n                    <img src={require(\"../img/nov.jpg\")} alt=\"\" style={{\n                        width: \"100%\",\n                        boxShadow: \"0 0 25px\",\n                        borderRadius: 35\n                    }}/>\n                </Div>\n            </Group>\n            <div>\n    <Notify type=\"info\">\n        <strong>Дополнительно</strong>\n        <br/>\n        <br/>\n        Открытие: 05:45\n        <br/>\n        <br/>\n        Закрытие: 00:00\n        <br/>\n        <br/>\n        Цена билета: 22₽\n    </Notify>\n    </div>\n        </Panel>\n    );\n};\nconst mapProps = (state) => ({\n    top: state.top\n}); \n \nconst mapDispatch = ({ navigator: { goBack },  navigator: { goForward }, transactions: { select, reset }, user: { load, openProfile }, cloud: { changeParam } }) => ({\n\tgo: goForward,\n\ttransactionSelect: select,\n\tresetTransactions: reset,\n\tloadUser: load,\n    openProfile,\n    back: goBack, \n\tcloudUpdate: changeParam\n});\n\nexport default connect(mapProps, mapDispatch)(Top);","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Panel, PanelHeader, Group, List, Avatar, Cell, Button, Div, FormStatus, Header, FixedLayou, TabsItem, Tabs, FixedLayout  } from \"@vkontakte/vkui\";\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack';\nimport Icon24Message from '@vkontakte/icons/dist/24/message';\nimport { fireEvent } from \"../utils\";\nimport Icon24List from '@vkontakte/icons/dist/24/list';\nimport piter from '../img/peterburg.jpg';\nimport '@happysanta/vk-app-ui/dist/vkappui.css'\nimport { Notify, strong } from \"@happysanta/vk-app-ui\"\nconst About = ({ id, back, top, openProfile, go }) => {\n    return (\n        <Panel id={id}>\n            <PanelHeader\n                left={<PanelHeaderBack onClick={back} />}\n            >\n                  Санкт-Петербург\n            </PanelHeader>\n            <Group style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                padding: \"height: 100vw, weight: 110vw\",\n                textAlign: \"center\"\n            }}>\n                <Div>\n                    <img src={require(\"../img/peterburg.jpg\")} alt=\"\" style={{\n                        width: \"100%\",\n                        boxShadow: \"0 0 25px\",\n                        borderRadius: 35\n                    }}/>\n                </Div>\n            </Group>\n            <div>\n    <Notify type=\"info\">\n        <strong>Дополнительно</strong>\n        <br/>\n        <br/>\n        Открытие: 05:30\n        <br/>\n        <br/>\n        Закрытие: 00:40\n        <br/>\n        <br/>\n        Цена билета: 45₽\n    </Notify>\n    </div>\n        </Panel>\n    );\n};\nconst mapProps = (state) => ({\n    top: state.top\n}); \n \nconst mapDispatch = ({ navigator: { goBack },  navigator: { goForward }, transactions: { select, reset }, user: { load, openProfile }, cloud: { changeParam } }) => ({\n\tgo: goForward,\n\ttransactionSelect: select,\n\tresetTransactions: reset,\n\tloadUser: load,\n    openProfile,\n    back: goBack, \n\tcloudUpdate: changeParam\n});\n\nexport default connect(mapProps, mapDispatch)(About);","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Panel, PanelHeader, Group, ScreenSpinner, List, Avatar, Cell, Button, Div, FormStatus, Header, FixedLayou, TabsItem, Tabs, FixedLayout  } from \"@vkontakte/vkui\";\r\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack';\r\nimport Icon24Message from '@vkontakte/icons/dist/24/message';\r\nimport { fireEvent } from \"../utils\";\r\nimport Icon24List from '@vkontakte/icons/dist/24/list';\r\nimport mosmetro from '../img/msk.gif';\r\nimport '@happysanta/vk-app-ui/dist/vkappui.css'\r\nimport { Notify, strong } from \"@happysanta/vk-app-ui\"\r\nconst Stories = ({ id, back, top, openProfile, go }) => {\r\n    return (\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                left={<PanelHeaderBack onClick={back} />}\r\n            >\r\n                  Москва\r\n            </PanelHeader>\r\n            <Group style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                padding: \"height: 100vw, weight: 110vw\",\r\n                textAlign: \"center\"\r\n            }}>\r\n                <Div>\r\n                    <img src={require(\"../img/msk.gif\")} alt=\"\" style={{\r\n                        width: \"100%\",\r\n                        boxShadow: \"0 0 25px\",\r\n                        borderRadius: 35\r\n                    }}/>\r\n                </Div>\r\n            </Group>\r\n            <div>\r\n    <Notify type=\"info\">\r\n        <strong>Дополнительно</strong>\r\n        <br/>\r\n        <br/>\r\n        Открытие: 05:30\r\n        <br/>\r\n        <br/>\r\n        Закрытие: 01:00\r\n        <br/>\r\n        <br/>\r\n        Цена билета: 55₽\r\n    </Notify>\r\n    </div>\r\n        </Panel>\r\n    );\r\n};\r\nconst mapProps = (state) => ({\r\n    top: state.top\r\n}); \r\n \r\nconst mapDispatch = ({ navigator: { goBack },  navigator: { goForward }, transactions: { select, reset }, user: { load, openProfile }, cloud: { changeParam } }) => ({\r\n\tgo: goForward,\r\n\ttransactionSelect: select,\r\n\tresetTransactions: reset,\r\n\tloadUser: load,\r\n    openProfile,\r\n    back: goBack, \r\n\tcloudUpdate: changeParam\r\n});\r\n\r\nexport default connect(mapProps, mapDispatch)(Stories);","import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { View, ConfigProvider } from \"@vkontakte/vkui\";\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from \"./containers/Home\";\nimport Profile from \"./containers/Profile\";\nimport Transaction from \"./containers/Transaction\";\nimport Top from \"./containers/Top\";\nimport About from \"./containers/About\";\nimport Stories from \"./containers/Stories\";\n\n\n\nconst App = ({ activePanel, history, goBack, userLoad, popout, connect }) => {\n\tuseEffect(() => {\n\t\tuserLoad();\n\t}, [userLoad]);\n\treturn (\n\t\t<ConfigProvider isWebView={true}>\n\t\t\t<View\n\t\t\t\tactivePanel={activePanel}\n\t\t\t\thistory={history}\n\t\t\t\tonSwipeBack={goBack}\n\t\t\t\tpopout={popout}\n\t\t\t\n\t\t\n\t\t\t>\n\t\t\t\t<Home id=\"home\"/>\n\t\t\t\t<Top id=\"top\"/>\n\t\t\t\t<Profile id=\"profile\" />\n\t\t\t\t<Transaction id=\"transaction\"/>\n\t\t\t\t<About id=\"about\"/>\n\t\t\t\t<Stories id=\"stories\"/>\n\t\t\t</View>\n\t\t</ConfigProvider>\n\t\t\t\n\n\n\t\t\t);\n\t\t};\n\n\n\nconst mapProps = (state) => ({\n\tactivePanel: state.navigator.active,\n\thistory: state.navigator.history,\n\tpopout: state.navigator.popout\n});\n\nconst mapDispatch = ({ navigator: { goBack }, user }) => ({\n\tgoBack,\n\tuserLoad: user.load\n});\n\nexport default connect(mapProps, mapDispatch)(App);","import connect from \"@vkontakte/vkui-connect-promise\";\n\nconst homeView = \"home\";\n\nconst navigator = {\n    state: {\n        active: homeView,\n        history: [homeView],\n        popout: null\n    },\n    reducers: {\n        go(state, payload) {\n            return {active: payload, history: [...state.history, payload], popout: null};\n        },\n        back(state) {\n            return {active: state.history[state.history.length - 2], history: state.history.slice(0, state.history.length - 1), popout: null};\n        },\n        setPopout(state, payload) {\n            return {...state, popout: payload};\n        }\n    },\n    effects: (dispatch) => ({\n        goForward(panel, state) {\n            if(state.navigator.active === homeView) {\n                connect.send(\"VKWebAppEnableSwipeBack\", {});\n            }\n            dispatch.navigator.go(panel);\n        },\n        goBack(payload, state) {\n            if(state.navigator.history[state.navigator.history.length - 2] === homeView) {\n                connect.send(\"VKWebAppDisableSwipeBack\", {});\n            }\n            dispatch.navigator.back();\n        }\n    })\n};\n\nexport default navigator;","const endpoint = \"https://terminal.viren.ru/api.php?action=\";\n\nexport const getTop = () => {\n    return fetch(endpoint + \"getTop\")\n        .then((result) => result.json());\n};\n\nexport const getTransactions = (id) => {\n    return fetch(endpoint + \"getTransactions&user=\" + id)\n        .then((result) => result.json())\n        .then((result) => result.reverse());\n};\n\nexport const getProfile = (id) => {\n    return fetch(endpoint + \"getProfile&user=\" + id)\n        .then((result) => result.json());\n};\n\nexport const getTransactionById = (id) => {\n    return fetch(endpoint + \"getTransaction&id=\" + id)\n        .then((result) => result.json());\n};","import React from \"react\";\nimport connect from \"@vkontakte/vkui-connect-promise\";\nimport * as api from \"../api\";\nimport {ScreenSpinner} from \"@vkontakte/vkui\";\n\nconst user = {\n    state: {\n        vk: {},\n        selected: {}\n    },\n    reducers: {\n        loaded(state, payload) {\n            return { ...state, \"vk\": payload };\n        },\n        update(state, payload) {\n            return {...state, \"vk\": { ...state.vk, ...payload }};\n        },\n        select(state, payload) {\n            return {...state, \"selected\": payload };\n        }\n    },\n    effects: (dispatch) => ({\n        async loadProfile(id, state) {\n            const result = await api.getProfile(id);\n            dispatch.user.select({ ...result, id });\n            if (state.user.vk.id === id) {\n                dispatch.user.update({ carma: result.carma });\n            }\n        },\n        async openProfile(id) {\n            await dispatch.navigator.setPopout(<ScreenSpinner/>);\n            await dispatch.user.loadProfile(id);\n            dispatch.navigator.goForward(\"profile\");\n        }\n    })\n};\n\nexport default user;","import * as api from \"../api\";\n\nconst transactions = {\n    state: {\n        list: [],\n        selected: 0\n    },\n    reducers: {\n        loaded(state, payload) {\n            return {...state, list: payload };\n        },\n        select(state, payload) {\n            return {...state, selected: payload};\n        },\n        reset() {\n            return { list: [], selected: 0 };\n        }\n    },\n    effects: (dispatch) => ({\n        async load(id){\n            const result = await api.getTransactions(id);\n            dispatch.transactions.loaded(result);\n        },\n        async selectSingleTransaction(id) {\n            const result = await api.getTransactionById(id);\n            dispatch.transactions.select(result);\n        }\n    })\n};\n\nexport default transactions;","import * as api from \"../api\";\n\nconst top = {\n    state: [],\n    reducers: {\n        loaded(state, payload) {\n            return payload;\n        }\n    },\n    effects: (dispatch) => ({\n        async load() {\n            const result = await api.getTop();\n            dispatch.top.loaded(result);\n        }\n    })\n};\n\nexport default top;","import { init } from \"@rematch/core\";\n\nimport navigator from \"./navigator\";\nimport user from \"./user\";\nimport transactions from \"./transactions\";\nimport top from \"./top\";\nimport cloud from \"./cloud\";\n\nconst models = {\n    navigator,\n    user,\n    transactions,\n    top,\n    cloud\n};\n\nconst store = init({\n    models\n});\n\nexport default store;","import connect from \"@vkontakte/vkui-connect-promise\";\nimport old_connect from \"@vkontakte/vkui-connect\";\n\nconst cloud = {\n    state: {},\n    reducers: {\n        update(state, payload) {\n            return {...state, ...payload};\n        }\n    },\n    effects: (dispatch) => ({\n        async initialize(app_id) {\n            old_connect.subscribe((action) => {\n                if (action.detail.type === \"VKWebAppAccessTokenReceived\") {\n                    dispatch.cloud.update({ access_token: action.detail.data.access_token });\n                    connect.send(\"VKWebAppCallAPIMethod\", {\n                        \"method\": \"execute.getParamsList\",\n                        \"params\": {\n                            \"v\": \"5.95\",\n                            \"access_token\": action.detail.data.access_token\n                        }\n                    }).then((result) => dispatch.cloud.loadByKeys(result.data.response));\n                }\n            });\n            old_connect.send(\"VKWebAppInit\", {});\n            old_connect.send(\"VKWebAppGetAuthToken\", {\n                app_id: 6951202,\n                scope: \"user\"\n            });\n        },\n        async changeParam(payload, state) {\n            const { param, value } = payload;\n            connect.send(\"VKWebAppCallAPIMethod\", {\n                \"method\": \"execute.setParam\",\n                \"params\": {\n                    \"param\": param,\n                    \"value\": value,\n                    \"v\": \"5.95\",\n                    \"access_token\": state.cloud.access_token\n                }\n            }).then((result) => dispatch.cloud.loadByKeys(result.data.response));\n        },\n        async loadByKeys(keys, state) {\n            connect.send(\"VKWebAppCallAPIMethod\", {\n                \"method\": \"execute.getParams\",\n                \"params\": {\n                    \"keys\": keys.join(\",\"),\n                    \"v\": \"5.95\",\n                    \"access_token\": state.cloud.access_token\n                }\n            })\n                .then((result) => {\n                    dispatch.cloud.update(dispatch.cloud.update(\n                        result.data.response.reduce((a, x) => {a[x.key] = x.value; return a}, { \"loaded\": true })\n                    ));\n                })\n                .catch(() => dispatch.cloud.update({ \"loaded\": true }))\n        }\n    })\n};\n\nexport default cloud;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport connect from '@vkontakte/vkui-connect';\n\nimport { getObjectUrlString } from \"./utils\";\n\n\n// Init VK App\nstore.dispatch.cloud.initialize(6982755);\n\n\nconst params = getObjectUrlString(window.location.hash.replace(\"#\", \"\"));\nif(params && params[\"transactionId\"]) {\n    store.dispatch.transactions.selectSingleTransaction(params[\"transactionId\"]);\n    store.dispatch.navigator.goForward(\"transaction\");\n}\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById(\"root\"));\n"],"sourceRoot":""}